import{b as f,j as e,u as ce,_ as de}from"./react-vendor-rwZ0-3V7.js";import{I as G,u as ue,a as k}from"./index-Bv9LoGpn.js";import{h as O,C as J,d as L,a as pe,P as ie,b as me}from"./index-DwRYSRLb.js";import{l as E}from"./lodash-vendor-8RPy3nyF.js";import{h as Y,o as he,E as ye,S as H,p as be,R as M,C as y,q as A,r as fe,v as ee,j as xe,x as oe,y as te,F as N,s as P,I as q,z as ve,H as ae,J as je,B,m as se,K as ge,T as Se,N as we,G as _e}from"./antd-vendor-BfhI4FUo.js";import"./__commonjsHelpers__-Cpj98o6Y.js";var Ce=function(t,n){return f.createElement(G,Y({},t,{ref:n,icon:he}))},Ne=f.forwardRef(Ce),Ee=function(t,n){return f.createElement(G,Y({},t,{ref:n,icon:ye}))},Pe=f.forwardRef(Ee),Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Me=function(t,n){return f.createElement(G,Y({},t,{ref:n,icon:Re}))},Ie=f.forwardRef(Me);const Le="本模块只用于计算同位素分馏和力常数值",m={H:"https://s2.loli.net/2024/08/05/JMcXdpn7zl52Fkr.webp",He:"https://s2.loli.net/2024/08/05/qgK8PZQai6LxBVF.webp",Li:"https://s2.loli.net/2024/08/05/zhljmAd7n3kbRKf.webp",Be:"https://s2.loli.net/2024/08/05/K1w4oCWsN3IflMe.webp",B:"https://s2.loli.net/2024/08/05/DSHhvXoueECxVq5.webp",C:"https://s2.loli.net/2024/08/05/7hcKW59Gl8dLabJ.webp",N:"https://s2.loli.net/2024/08/05/hPQLNDjEvJkbG4O.webp",O:"https://s2.loli.net/2024/08/05/LCmVQoSRJKrxiE3.webp",F:"https://s2.loli.net/2024/08/05/RpOe8mbur5lxcFY.webp",Ne:"https://s2.loli.net/2024/08/05/Fy5vboQaR3MNrYA.webp",Na:"https://s2.loli.net/2024/08/05/TeJu64ROl1DEhrd.webp",Mg:"https://s2.loli.net/2024/08/05/aNVsDET3uY28nhH.webp",Al:"https://s2.loli.net/2024/08/05/ZBs8nCW1GhA69wl.webp",Si:"https://s2.loli.net/2024/08/05/KmBDIQGPyOf6tUN.webp",P:"https://s2.loli.net/2024/08/05/L2nvcKtMJ1oVB3E.webp",S:"https://s2.loli.net/2024/08/05/bNak4GCK9FrQlcj.webp",Cl:"https://s2.loli.net/2024/08/05/hUnvNA4RqyX5o3p.webp",Ar:"https://s2.loli.net/2024/08/05/nq4W2Ofs7gCoxVU.webp",K:"https://s2.loli.net/2024/08/05/o5hctplqxnz8AIJ.webp",Ca:"https://s2.loli.net/2024/08/05/l8bP5mQjfJCo6rB.webp",Ba:"https://s2.loli.net/2024/08/05/jLBJzyWErVPtx6Z.webp",Ag:"https://s2.loli.net/2024/08/05/ySo56ZzHM1DwvP4.webp"};var Q=(a=>(a.STABLE="Stable",a.RADIOACTIVE="Radioactive",a))(Q||{});const D=[{name:"H（氢 / Hydrogen）",key:"H",index:1,overview:{picture_url:m.H,EN_name:"Hydrogen",ZhCN_name:"氢",relative_mass:"1.00794",density:""},properties:{isotope:[{mass:"1.007825",abundance:"0.999844",type:"Stable"},{mass:"2.014102",abundance:"0.000156",type:"Stable"},{mass:"3.016049",abundance:"0.00004",type:"Stable"}]}},{name:"He（氦 / Helium）",key:"He",index:2,overview:{picture_url:m.He,EN_name:"Helium",ZhCN_name:"氦",relative_mass:"4.0026",density:""},properties:{isotope:[{mass:"3.016029",abundance:"0.00000137",type:"Stable"},{mass:"4.002606",abundance:"0.99999863",type:"Stable"}]}},{name:"Li（锂 / Lithium）",key:"Li",index:3,overview:{picture_url:m.Li,EN_name:"Lithium",ZhCN_name:"锂",relative_mass:"6.9675",density:""},properties:{isotope:[{mass:"6.015122",abundance:"0.0759",type:"Stable"},{mass:"7.016004",abundance:"0.9241",type:"Stable"}]}},{name:"Be（铍 / Beryllium）",key:"Be",index:4,overview:{picture_url:m.Be,EN_name:"Beryllium",ZhCN_name:"铍",relative_mass:"9.0122",density:""},properties:{isotope:[{mass:"7.016929",abundance:"0",type:"Radioactive"},{mass:"9.012182",abundance:"1",type:"Stable"},{mass:"10.013533",abundance:"0",type:"Radioactive"}]}},{name:"B（硼 / Boron）",key:"B",index:5,overview:{picture_url:m.B,EN_name:"Boron",ZhCN_name:"硼",relative_mass:"10.8135",density:""},properties:{isotope:[{mass:"10.012937",abundance:"0.199",type:"Stable"},{mass:"11.009306",abundance:"0.801",type:"Stable"}]}},{name:"C（碳 / Carbon）",key:"C",index:6,overview:{picture_url:m.C,EN_name:"Carbon",ZhCN_name:"碳",relative_mass:"12.0106",density:""},properties:{isotope:[{mass:"11.011433",abundance:"0",type:"Radioactive"},{mass:"12.000000",abundance:"0.989",type:"Stable"},{mass:"13.00335483",abundance:"0.011",type:"Stable"},{mass:"14.003241",abundance:"0",type:"Radioactive"}]}},{name:"N（氮 / Nitrogen）",key:"N",index:7,overview:{picture_url:m.N,EN_name:"Nitrogen",ZhCN_name:"氮",relative_mass:"14.0069",density:""},properties:{isotope:[{mass:"13.005738",abundance:"0",type:"Radioactive"},{mass:"14.003074005",abundance:"0.9963",type:"Stable"},{mass:"15.000108898",abundance:"0.0037",type:"Stable"}]}},{name:"O（氧 / Oxygen）",key:"O",index:8,overview:{picture_url:m.O,EN_name:"Oxygen",ZhCN_name:"氧",relative_mass:"15.9994",density:""},properties:{isotope:[{mass:"15.003065",abundance:"0",type:"Radioactive"},{mass:"15.99491462",abundance:"0.99762",type:"Stable"},{mass:"16.999131",abundance:"0.00038",type:"Stable"},{mass:"17.99916",abundance:"0.002",type:"Stable"},{mass:"19.003579",abundance:"0",type:"Radioactive"}]}},{name:"F（氟 / Fluorine）",key:"F",index:9,overview:{picture_url:m.F,EN_name:"Fluorine",ZhCN_name:"氟",relative_mass:"18.9984",density:""},properties:{isotope:[{mass:"18.000937",abundance:"0",type:"Radioactive"},{mass:"18.9984032",abundance:"1",type:"Stable"},{mass:"19.999981",abundance:"0",type:"Radioactive"}]}},{name:"Ne（氖 / Neon）",key:"Ne",index:10,overview:{picture_url:m.Ne,EN_name:"Neon",ZhCN_name:"氖",relative_mass:"20.1800",density:""},properties:{isotope:[{mass:"19.99244",abundance:"0.9048",type:"Stable"},{mass:"20.993847",abundance:"0.0027",type:"Stable"},{mass:"21.991386",abundance:"0.0925",type:"Stable"}]}},{name:"Na（钠 / Sodium）",key:"Na",index:11,overview:{picture_url:m.Na,EN_name:"Sodium",ZhCN_name:"钠",relative_mass:"22.9898",density:""},properties:{isotope:[{mass:"21.994436",abundance:"0",type:"Radioactive"},{mass:"22.98977",abundance:"1",type:"Stable"},{mass:"23.990963",abundance:"0",type:"Radioactive"}]}},{name:"Mg（镁 / Magnesium）",key:"Mg",index:12,overview:{picture_url:m.Mg,EN_name:"Magnesium",ZhCN_name:"镁",relative_mass:"24.3051",density:""},properties:{isotope:[{mass:"23.985042",abundance:"0.7899",type:"Stable"},{mass:"24.985837",abundance:"0.1",type:"Stable"},{mass:"25.982593",abundance:"0.1101",type:"Stable"},{mass:"26.984341",abundance:"0",type:"Radioactive"},{mass:"27.983876",abundance:"0",type:"Radioactive"}]}},{name:"Al（铝 / Aluminum）",key:"Al",index:13,overview:{picture_url:m.Al,EN_name:"Aluminum",ZhCN_name:"铝",relative_mass:"26.9815",density:""},properties:{isotope:[{mass:"25.986891",abundance:"0",type:"Radioactive"},{mass:"26.981538",abundance:"1",type:"Stable"},{mass:"27.98191",abundance:"0",type:"Radioactive"},{mass:"28.980445",abundance:"0",type:"Radioactive"}]}},{name:"Si（硅 / Silicon）",key:"Si",index:14,overview:{picture_url:m.Si,EN_name:"Silicon",ZhCN_name:"硅",relative_mass:"28.0850",density:""},properties:{isotope:[{mass:"27.976926",abundance:"0.9223",type:"Stable"},{mass:"28.976497",abundance:"0.0467",type:"Stable"},{mass:"29.97377",abundance:"0.031",type:"Stable"},{mass:"30.975363",abundance:"0",type:"Radioactive"},{mass:"31.974148",abundance:"0",type:"Radioactive"}]}},{name:"P（磷 / Phosphorus）",key:"P",index:15,overview:{picture_url:m.P,EN_name:"Phosphorus",ZhCN_name:"磷",relative_mass:"30.9738",density:""},properties:{isotope:[{mass:"30.973761",abundance:"1",type:"Stable"},{mass:"31.973907",abundance:"0",type:"Radioactive"},{mass:"32.971725",abundance:"0",type:"Radioactive"}]}},{name:"S（硫 / Sulfur）",key:"S",index:16,overview:{picture_url:m.S,EN_name:"Sulfur",ZhCN_name:"硫",relative_mass:"32.0648",density:""},properties:{isotope:[{mass:"31.97207",abundance:"0.9502",type:"Stable"},{mass:"32.971458",abundance:"0.0075",type:"Stable"},{mass:"33.967866",abundance:"0.0421",type:"Stable"},{mass:"34.969032",abundance:"0",type:"Radioactive"},{mass:"35.96708",abundance:"0.0002",type:"Stable"},{mass:"36.971125",abundance:"0",type:"Radioactive"},{mass:"37.971163",abundance:"0",type:"Radioactive"}]}},{name:"Cl（氯 / Chlorine）",key:"Cl",index:17,overview:{picture_url:m.Cl,EN_name:"Chlorine",ZhCN_name:"氯",relative_mass:"35.4521",density:""},properties:{isotope:[{mass:"34.9688527",abundance:"0.7577",type:"Stable"},{mass:"35.968306",abundance:"0",type:"Radioactive"},{mass:"36.9659026",abundance:"0.2423",type:"Stable"},{mass:"37.96801",abundance:"0",type:"Radioactive"},{mass:"38.968",abundance:"0",type:"Radioactive"}]}},{name:"Ar（氩 / Argon）",key:"Ar",index:18,overview:{picture_url:m.Ar,EN_name:"Argon",ZhCN_name:"氩",relative_mass:"39.9478",density:""},properties:{isotope:[{mass:"35.967546",abundance:"0.00337",type:"Stable"},{mass:"36.966775",abundance:"0",type:"Radioactive"},{mass:"37.962732",abundance:"0.00063",type:"Stable"},{mass:"38.964313",abundance:"0",type:"Radioactive"},{mass:"39.962383",abundance:"0.996",type:"Stable"},{mass:"40.964501",abundance:"0",type:"Radioactive"},{mass:"41.96305",abundance:"0",type:"Radioactive"}]}},{name:"K（钾 / Potassium）",key:"K",index:19,overview:{picture_url:m.K,EN_name:"Potassium",ZhCN_name:"钾",relative_mass:"39.0983",density:""},properties:{isotope:[{mass:"38.963707",abundance:"0.932581",type:"Stable"},{mass:"39.963999",abundance:"0.000117",type:"Radioactive"},{mass:"40.961826",abundance:"0.067302",type:"Stable"},{mass:"41.962403",abundance:"0",type:"Radioactive"},{mass:"42.960716",abundance:"0",type:"Radioactive"}]}},{name:"Ca（钙 / Calcium）",key:"Ca",index:20,overview:{picture_url:m.Ca,EN_name:"Calcium",ZhCN_name:"钙",relative_mass:"40.0780",density:""},properties:{isotope:[{mass:"39.962591",abundance:"0.96941",type:"Stable"},{mass:"40.962278",abundance:"0",type:"Radioactive"},{mass:"41.958618",abundance:"0.00647",type:"Stable"},{mass:"42.958767",abundance:"0.00135",type:"Stable"},{mass:"43.955481",abundance:"0.02086",type:"Stable"},{mass:"44.956185",abundance:"0",type:"Radioactive"},{mass:"45.953693",abundance:"0.00004",type:"Stable"},{mass:"46.954546",abundance:"0",type:"Radioactive"},{mass:"47.952533",abundance:"0.00187",type:"Stable"}]}},{name:"Ag（银 / Silver）",key:"Ag",index:47,overview:{picture_url:m.Ag,EN_name:"Silver",ZhCN_name:"银",relative_mass:"107.8681",density:""},properties:{isotope:[{mass:"104.906528",abundance:"0",type:"Radioactive"},{mass:"105.906666",abundance:"0",type:"Radioactive"},{mass:"106.905093",abundance:"0.51839",type:"Stable"},{mass:"108.904756",abundance:"0.48161",type:"Stable"},{mass:"109.90611",abundance:"0",type:"Radioactive"},{mass:"110.905295",abundance:"0",type:"Radioactive"}]}},{name:"Ba（钡 / Barium）",key:"Ba",index:56,overview:{picture_url:m.Ba,EN_name:"Barium",ZhCN_name:"钡",relative_mass:"137.3267",density:""},properties:{isotope:[{mass:"129.906311",abundance:"0.00106",type:"Stable"},{mass:"130.906931",abundance:"0",type:"Radioactive"},{mass:"131.905056",abundance:"0.00101",type:"Stable"},{mass:"132.906002",abundance:"0",type:"Radioactive"},{mass:"133.904503",abundance:"0.0242",type:"Stable"},{mass:"134.905684",abundance:"0.06593",type:"Stable"},{mass:"135.904571",abundance:"0.0785",type:"Stable"},{mass:"136.905823",abundance:"0.1123",type:"Stable"},{mass:"137.905242",abundance:"0.717",type:"Stable"},{mass:"139.910599",abundance:"0",type:"Radioactive"}]}}];function ke(a){const{element:t}=a,{overview:n,index:s}=D.find(i=>i.key===t)||{},{EN_name:r,ZhCN_name:d,picture_url:o,relative_mass:l}=n;return e.jsxs("div",{style:{backgroundImage:`url(${o})`,backgroundPosition:"center",backgroundSize:"cover",position:"relative",height:"260px"},children:[e.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"150px",background:"linear-gradient(to top, rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0))",backdropFilter:"blur(.4px)"}}),e.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"20px"},children:[e.jsx("div",{style:{color:"#fff",fontWeight:400,fontSize:20},children:e.jsxs(H,{align:"end",children:[e.jsx("span",{children:d}),e.jsx("sub",{style:{fontSize:16},children:s})]})}),e.jsx("div",{style:{color:"#fff",fontWeight:700,fontSize:26},children:r}),e.jsxs("div",{style:{color:"#fff",fontWeight:500,fontSize:16},children:[l," (g/mol)"]})]})]})}function ne(a){const{isotopeName:t,isotopeMass:n}=a;return e.jsx(be,{color:"cyan",children:e.jsxs("span",{children:[e.jsx("sup",{style:{fontSize:"8px",lineHeight:"8px"},children:n}),t]})})}function K(a,t){if(!t||E.isEmpty(t))return null;let n=null;return t==null||t.some(s=>{if(s.value===a)return n=s,!0;{const r=K(a,s.children||[]);return r&&r.value===a?(n=r,!0):!1}}),n||null}const Oe=a=>{var _,C;const{project:t,deleteProject:n,editProject:s}=a||{},{id:r,isotopeMass:d,calculationElement:o,createTime:l,projectDescription:i,updateTime:u,calculationService:c}=t||{},p=ce(),x=f.useMemo(()=>{const b=(c==null?void 0:c.map(S=>{var j;return console.log({item:S}),console.log({findNode:K(S,J)}),(j=K(S,J))==null?void 0:j.label}))||[];return b==null?void 0:b.join("、")},[c]),h=()=>{xe.confirm({title:"删除工程",content:"工程删除后，该工程中包含的计算任务也会被一并删除，是否确认删除？",cancelText:"取消",onCancel:b=>{b()},onOk:b=>{n(r),b()},centered:!0,style:{maxWidth:"80vw"}})},g=f.useMemo(()=>{var b,S;return e.jsxs(H,{direction:"vertical",size:2,style:{width:"100%"},children:[e.jsxs(M,{wrap:!1,children:[e.jsx(y,{style:{minWidth:"80px"},children:"同位素："}),e.jsxs(y,{style:{overflow:"hidden",whiteSpace:"snowrap",textOverflow:"ellipsis"},flex:1,children:[e.jsx(ne,{isotopeMass:(b=d.light)==null?void 0:b.round,isotopeName:o}),e.jsx(ne,{isotopeMass:(S=d.heavy)==null?void 0:S.round,isotopeName:o})]})]}),e.jsxs(M,{wrap:!1,children:[e.jsx(y,{style:{minWidth:"80px"},children:"计算服务："}),e.jsx(y,{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},flex:1,children:e.jsxs(A,{title:x,children:[" ",x]})})]}),e.jsxs(M,{wrap:!1,children:[e.jsx(y,{style:{minWidth:"80px"},children:"创建时间："}),e.jsx(y,{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},flex:1,children:O(l).format("YYYY-MM-DD HH:mm:ss")||"-"})]}),e.jsxs(M,{wrap:!1,children:[e.jsx(y,{style:{minWidth:"80px"},children:"更新时间："}),e.jsx(y,{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},flex:1,children:u?O(u).format("YYYY-MM-DD HH:mm:ss"):"-"})]}),e.jsxs(M,{wrap:!1,children:[e.jsx(y,{style:{minWidth:"80px"},children:"详细信息："}),e.jsx(A,{title:i||"",children:e.jsx(y,{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},flex:1,children:i||"-"})})]})]})},[o,l,(_=d.heavy)==null?void 0:_.round,(C=d.light)==null?void 0:C.round,i,x,u]);return e.jsx(fe.Ribbon,{text:"仅本人",color:"green",children:e.jsx(ee,{hoverable:!0,cover:e.jsx(ke,{element:t.calculationElement}),actions:[e.jsx(A,{title:"进入工程",children:e.jsx(Ie,{onClick:()=>p(`/calculation/qm/isotope-fractionation/frequency/detail?id=${t.id}`)},"setting")}),e.jsx(A,{title:"修改工程",children:e.jsx(Pe,{onClick:()=>s(r)},"edit")}),e.jsx(A,{title:"删除工程",children:e.jsx(Ne,{onClick:h},"delete")})],style:{overflow:"hidden"},children:e.jsx(ee.Meta,{title:t.projectName,description:g})})})},Ae=a=>{const{projectList:t,deleteProject:n,editProject:s}=a;return E.isEmpty(t)?e.jsx(oe,{imageStyle:{height:"120px",marginTop:"180px"},description:"未搜索到结果～"}):e.jsx(M,{gutter:[12,12],children:t.map(r=>e.jsx(y,{xs:24,sm:24,md:12,lg:8,xxl:6,children:e.jsx(Oe,{project:r,deleteProject:()=>n(r.id),editProject:s},r.id)}))})},Fe=Ae;var v=[];for(var z=0;z<256;++z)v.push((z+256).toString(16).slice(1));function He(a,t=0){return(v[a[t+0]]+v[a[t+1]]+v[a[t+2]]+v[a[t+3]]+"-"+v[a[t+4]]+v[a[t+5]]+"-"+v[a[t+6]]+v[a[t+7]]+"-"+v[a[t+8]]+v[a[t+9]]+"-"+v[a[t+10]]+v[a[t+11]]+v[a[t+12]]+v[a[t+13]]+v[a[t+14]]+v[a[t+15]]).toLowerCase()}var T,Be=new Uint8Array(16);function Te(){if(!T&&(T=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!T))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(Be)}var V,Z,W=0,$=0;function Ze(a,t,n){var s=t&&n||0,r=t||new Array(16);a=a||{};var d=a.node,o=a.clockseq;if(a._v6||(d||(d=V),o==null&&(o=Z)),d==null||o==null){var l=a.random||(a.rng||Te)();d==null&&(d=[l[0],l[1],l[2],l[3],l[4],l[5]],!V&&!a._v6&&(d[0]|=1,V=d)),o==null&&(o=(l[6]<<8|l[7])&16383,Z===void 0&&!a._v6&&(Z=o))}var i=a.msecs!==void 0?a.msecs:Date.now(),u=a.nsecs!==void 0?a.nsecs:$+1,c=i-W+(u-$)/1e4;if(c<0&&a.clockseq===void 0&&(o=o+1&16383),(c<0||i>W)&&a.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");W=i,$=u,Z=o,i+=122192928e5;var p=((i&268435455)*1e4+u)%4294967296;r[s++]=p>>>24&255,r[s++]=p>>>16&255,r[s++]=p>>>8&255,r[s++]=p&255;var x=i/4294967296*1e4&268435455;r[s++]=x>>>8&255,r[s++]=x&255,r[s++]=x>>>24&15|16,r[s++]=x>>>16&255,r[s++]=o>>>8|128,r[s++]=o&255;for(var h=0;h<6;++h)r[s+h]=d[h];return t||He(r)}function De(a){var o,l;const{value:t,onChange:n,massArray:s}=a,r=i=>{const u=s==null?void 0:s.find(c=>L.round(c).toNumber()===i);n==null||n({light:{round:i||void 0,precision:u},heavy:t==null?void 0:t.heavy})},d=i=>{const u=s==null?void 0:s.find(c=>L.round(c).toNumber()===i);n==null||n({light:t==null?void 0:t.light,heavy:{round:i||void 0,precision:u}})};return e.jsxs(H,{children:[e.jsx(te,{addonBefore:"轻",precision:0,value:(o=t==null?void 0:t.light)==null?void 0:o.round,onChange:r}),e.jsx(te,{addonBefore:"重",precision:0,value:(l=t==null?void 0:t.heavy)==null?void 0:l.round,onChange:d})]})}const re=[{label:"仅本人",value:1},{label:"所有人",value:0}],ze={readPermission:1,editPermission:1},Ve=[{validator(a,t){var r,d;const n=(r=t==null?void 0:t.light)==null?void 0:r.round,s=(d=t==null?void 0:t.heavy)==null?void 0:d.round;return!n||!s?Promise.reject(new Error("必须完整填写同位素质量数")):n>=s?Promise.reject(new Error("轻同位素质量数必须小于重质量同位素")):Promise.resolve()}},{required:!0},({getFieldValue:a})=>({validator(t,n){var x,h,g,_,C,b,S;const s=a("calculationElement");if(!s)return Promise.reject(new Error("未选择计算元素"));const r=((g=(h=(x=D.find(j=>j.key===s))==null?void 0:x.properties)==null?void 0:h.isotope)==null?void 0:g.filter(j=>j.type===Q.STABLE).map(j=>j.mass))||[],d=r.map(j=>L.round(j));if(E.isEmpty(r))return Promise.reject(new Error("未设置系统质量数，请反馈管理员修改"));const o=L.min(...r).round().toNumber(),l=L.max(...r).round().toNumber(),i=(_=n==null?void 0:n.light)==null?void 0:_.round,u=(C=n==null?void 0:n.heavy)==null?void 0:C.round,c=(b=n==null?void 0:n.light)==null?void 0:b.precision,p=(S=n==null?void 0:n.heavy)==null?void 0:S.precision;return i&&i<o?Promise.reject(new Error(`${s} 同位素的最小质量不能小于 ${o}`)):u&&u>l?Promise.reject(new Error(`${s} 同位素的最大质量不能大于 ${l}`)):c?p?Promise.resolve():Promise.reject(new Error(`重同位素质量数不在 ${d.join("、")} 可选范围内`)):Promise.reject(new Error(`轻同位素质量数不在 ${d.join("、")} 可选范围内`))}})],F=D.map(a=>({label:a.name,value:a.key})),{useWatch:We}=N;function $e(a){const{form:t,rules:n,singleFormItem:s=!1,required:r=!0}=a,[d,o]=f.useState([]),[l,i]=f.useState(F),u=We("calculationElement",t);return f.useEffect(()=>{var h,g,_,C,b,S,j;const c=((_=(g=(h=D.find(w=>w.key===u))==null?void 0:h.properties)==null?void 0:g.isotope)==null?void 0:_.filter(w=>w.type===Q.STABLE).map(w=>w.mass))||[];o(c);const[p,x]=[(b=(C=t.getFieldValue("isotopeMass"))==null?void 0:C.light)==null?void 0:b.round,(j=(S=t.getFieldValue("isotopeMass"))==null?void 0:S.heavy)==null?void 0:j.round];t.setFieldsValue({isotopeMass:{light:{round:p,precision:c==null?void 0:c.find(w=>L.round(w).toNumber()===p)},heavy:{round:x,precision:c==null?void 0:c.find(w=>L.round(w).toNumber()===x)}}}),t.validateFields(["isotopeMass"])},[t,u]),e.jsx(e.Fragment,{children:e.jsx(N,{form:t,labelCol:{span:8},colon:!0,layout:"inline",onFinishFailed:()=>P.error("请完整填写表单信息"),initialValues:ze,children:e.jsxs(M,{gutter:[12,26],children:[e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"工程名字",name:"projectName",rules:[...E.get(n,"projectName")||[],{required:r,message:"工程名不允许为空"}],children:e.jsx(q,{allowClear:!0,placeholder:"请输入工程名",autoComplete:"off"})})}),e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"计算服务",name:"calculationService",rules:[...E.get(n,"calculationService")||[],{required:r,message:"计算服务不允许为空"}],extra:"建议全选",children:e.jsx(pe,{options:J,showCheckedStrategy:"SHOW_CHILD",placeholder:"请选择计算服务",allowClear:!0})})}),e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"计算元素",name:"calculationElement",rules:[...E.get(n,"calculationElement")||[],{required:r,message:"计算元素不允许为空"}],children:e.jsx(ve,{showSearch:!0,filterOption:!1,options:l,allowClear:!0,placeholder:"请选择计算元素",onSearch:c=>{if(!c)return i(F);const x=F.filter(h=>h.label.toLocaleLowerCase().includes(c.toLocaleLowerCase())).map(h=>({...h,label:e.jsx("span",{children:h.label.split(new RegExp(`(${c})`,"gi")).map((g,_)=>g.toLowerCase()===c.toLowerCase()?e.jsx("span",{style:{color:"orange"},children:g},_):g)})}));i(x)},onClear:()=>i(F),onSelect:()=>i(F)})})}),e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"同位素质量",name:"isotopeMass",dependencies:["calculationElement"],rules:[...Ve,...E.get(n,"isotopeMass")||[]],children:e.jsx(De,{massArray:d})})}),e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"可见范围",name:"readPermission",rules:[...E.get(n,"readPermission")||[],{required:r,message:"可见范围不允许为空"}],extra:"目前仅支持本人可见",children:e.jsx(ae,{options:re,style:{width:"100%"},multiple:!0,showCheckedStrategy:"SHOW_CHILD",maxTagCount:"responsive",showSearch:!0,disabled:!0})})}),e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"可编辑范围",name:"editPermission",rules:[...E.get(n,"editPermission")||[],{required:r,message:"可编辑范围不允许为空"}],extra:"目前仅支持本人可编辑",children:e.jsx(ae,{options:re,style:{width:"100%"},multiple:!0,showCheckedStrategy:"SHOW_CHILD",maxTagCount:"responsive",showSearch:!0,disabled:!0})})}),e.jsx(y,{span:s?24:12,children:e.jsx(N.Item,{label:"详细信息",name:"projectDescription",children:e.jsx(q.TextArea,{placeholder:"请输入项目的详细描述信息",autoSize:{minRows:4,maxRows:6},maxLength:300,showCount:!0,autoComplete:"off"})})})]})})})}function U(){if(!window.localStorage)throw new Error("当前浏览器不支持使用本地存储，清更换Chrome浏览器或者打开localStorage权限！");return!0}function X(){let a=[];try{const t=localStorage.getItem(ie);a=JSON.parse(t||JSON.stringify([]))}catch{throw new Error("系统错误，解析localStorage中的工程列表出错，请联系管理员！")}return a}function le(a){try{const t=JSON.stringify(a);localStorage.setItem(ie,t)}catch{throw new Error("系统错误，序列化工程信息出错，请联系管理员！")}return!0}function Je(){const[a,t]=f.useState(!1);return{createOrModifiedProject:(s,r)=>new Promise((d,o)=>{var c;try{U()}catch(p){return o(p)}if(!r)return o(new Error("系统错误，未设置工程id，请联系管理员！"));t(!0);let l=[];try{l=X()}catch(p){return o(p)}const i=l.findIndex(p=>(p==null?void 0:p.id)===r);let u=[];i!==-1?(l[i]={...s,id:r,createTime:((c=l[i])==null?void 0:c.createTime)||O().valueOf(),updateTime:O().valueOf()},u=[...l]):u=[...l,{id:r,...s,createTime:O().valueOf(),updateTime:O().valueOf()}];try{le(u)}catch(p){return o(p)}i===-1&&localStorage.setItem(r,JSON.stringify([])),setTimeout(()=>(t(!1),d(!0)),Math.random()*1e3)}),loading:a}}function qe(a){try{U()}catch(s){return P.error(s.message),!1}if(!a)return P.error("系统错误，未设置工程id，请联系管理员！"),!1;let t=[];try{t=X()}catch(s){return P.error(s.message),!1}const n=t.filter(s=>(s==null?void 0:s.id)!==a);try{le(n)}catch(s){return P.error(s.message),!1}return localStorage.removeItem(a),!0}function Ke(){const[a,t]=f.useState(!1),[n,s]=f.useState([]);return{triggerGetProjects:d=>{try{U()}catch(i){P.error(i.message);return}t(!0);let o=[],l=[];try{o=X()}catch(i){P.error(i.message);return}d?l=o.filter(u=>{var c;return(c=u==null?void 0:u.projectName)==null?void 0:c.includes(d)}):l=o,setTimeout(()=>{t(!1),s(l)},Math.random()*1e3)},projectList:n,loading:a}}const{useBreakpoint:Ge}=_e;function at(){const[a]=N.useForm(),[t,n]=f.useState(!1),[s,r]=f.useState(""),[d,o]=f.useState(!1),[l,i]=f.useState(!1),{createOrModifiedProject:u,loading:c}=Je(),{triggerGetProjects:p,loading:x,projectList:h}=Ke();ue(()=>{p()});const g=k(()=>{a.resetFields(),n(!0),r(Ze()),i(!1)}),_=k(R=>{qe(R),p()}),C=k(R=>{r(R),a.setFieldsValue(h.find(I=>I.id===R)||{}),n(!0),i(!0)}),b=k(()=>{n(!1)}),S=k(async()=>{await a.validateFields();const R=a.getFieldsValue(!0);try{await u(R,s)?P.success(`工程${l?"修改":"创建"}成功！`):P.error(`工程${l?"修改":"创建"}失败！`)}catch(I){console.log({error:I}),P.error(`工程${l?"修改":"创建"}失败！${(I==null?void 0:I.message)||""}`)}b(),p()}),j=k(()=>e.jsx(M,{justify:"end",children:e.jsxs(H,{children:[e.jsx(B,{onClick:b,children:"取消"}),e.jsx(B,{type:"primary",onClick:S,children:"确定"})]})})),{md:w}=Ge();return f.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),e.jsxs(e.Fragment,{children:[e.jsx(me,{title:"频率分馏计算"}),e.jsxs(H,{direction:"vertical",style:{width:"100%"},children:[e.jsx(je,{message:e.jsx(de,{speed:30,delay:5,children:Le}),type:"info",showIcon:!0,closable:!0}),e.jsxs(M,{justify:"space-between",gutter:12,wrap:!1,children:[e.jsx(y,{flex:1,children:e.jsx(q.Search,{placeholder:"请输入工程名进行搜索",allowClear:!0,onSearch:R=>{p(R),o(!!R)}})}),e.jsx(y,{children:e.jsx(B,{type:"primary",onClick:g,children:"新增工程"})})]}),e.jsx(se,{spinning:x,children:!d&&E.isEmpty(h)?e.jsx("div",{style:{margin:"100px auto"},children:e.jsx(oe,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:200},description:"还未创建工程，赶紧尝试一下吧～",children:e.jsx(B,{type:"primary",onClick:g,children:"立即创建"})})}):e.jsx(Fe,{projectList:h,deleteProject:_,editProject:C})})]}),e.jsx(ge,{title:"新建工程",extra:e.jsxs(Se.Text,{type:"secondary",style:{maxWidth:w?"":"60vw"},ellipsis:!0,children:["工程id：",s]}),placement:w?"right":"bottom",closable:!1,open:t,size:"large",height:"75vh",maskClosable:!1,footer:j(),children:e.jsx(se,{spinning:c,children:e.jsx($e,{form:a,required:!0,singleFormItem:!w})})}),e.jsx(we.BackTop,{visibilityHeight:200,type:"primary",style:{marginBottom:80}})]})}export{at as default};
