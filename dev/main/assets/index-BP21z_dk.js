import{k as l,r as d}from"./react-vendor-BZalFSLS.js";import{eN as D,f6 as F}from"./other-vendor-BouohHGO.js";import{M as a}from"./lodash-vendor-CN3hPSWb.js";import{R as w,C as g,f as k,T as x,w as M,k as R,r as E,p as G}from"./antd-vendor-ZYx89x1p.js";import{u as I}from"./index-DySw3dyO.js";function V(e){const{title:t,description:r,isShowQuestionIcon:s=!1,extra:n}=e,f=D(i=>a.isArray(i)?i.length===1||a.isEmpty(i)?l.jsx(x.Title,{level:5,style:{margin:0,flexShrink:0,marginRight:"5px"},children:i[0]||""}):l.jsx(M,{items:i.map(h=>({title:h}))}):l.jsx(x.Title,{level:5,style:{margin:0,flexShrink:0,marginRight:"5px"},children:i||""}));return l.jsxs(w,{gutter:8,align:"middle",justify:"space-between",wrap:!1,style:{marginBottom:"8px"},children:[l.jsxs(g,{style:{maxWidth:"75vw",display:"flex"},children:[f(t),s?l.jsx(k,{title:r||"",children:l.jsx(F,{style:{color:"rgba(0, 0, 0, 0.45)"}})}):l.jsx(x.Title,{level:5,style:{margin:0,fontWeight:300},type:"secondary",ellipsis:!0,children:r||""})]}),l.jsx(g,{style:{float:"right"},children:n})]})}var q=(e=>(e[e.ISOTOPE_FRACTIONATION=1]="ISOTOPE_FRACTIONATION",e[e.E_FIELD=11]="E_FIELD",e[e.PHONON=12]="PHONON",e[e.FORCE_CONSTANT=2]="FORCE_CONSTANT",e[e.IR=3]="IR",e[e.RAMAN=4]="RAMAN",e))(q||{});const u=Object.freeze({11:"外电场",12:"声子频率",1:"同位素分馏",2:"力常数",3:"红外光谱",4:"拉曼光谱"}),_=[{label:u[1],value:1,children:[{label:u[11],value:11},{label:u[12],value:12}]},{label:u[2],value:2},{label:u[3],value:3,disabled:!0},{label:u[4],value:4,disabled:!0}],A="PROJECT_ID_KEY_LIST";var H=(e=>(e.CASTEP="CASTEP",e.GAUSSIAN="GAUSSIAN",e.VASP="VASP",e))(H||{}),O=(e=>(e.CELL=".cell",e.CASTEP=".castep",e))(O||{}),W=(e=>(e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILED=3]="FAILED",e))(W||{}),z=(e=>(e.DONE="done",e.ERROR="error",e))(z||{});const T="frequency_data_base",C=1,U="id, name, fileInfoList, calculationStatus, createTime, updateTime, isFixed, softWare, isPhonon, heavyFreqInfo, lightFreqInfo, cellInfo, isotopeSetting, forceConstant, isotopeFractionation";function J(e){const t=e==null?void 0:e.map(r=>Array.isArray(r)?a.last(r):r);return(t==null?void 0:t.filter(Boolean))||[]}function v(e,t,r){if(!t||t.length===0||e===null)return r;let s=[...r];return t.find(n=>(s.push(n.value),n.value===e?!0:(s=v(e,n.children||[],s),a.last(s)===e?!0:(s.pop(),!1)))),s}function S(e,t){return(e==null?void 0:e.map(s=>{const n=v(s,t,[])||[];return n.length===0?null:n})).filter(Boolean)}function y(e){const t=[];return a.isEmpty(e)||!e?t:(e==null||e.forEach(r=>{if(!r.disabled){if(a.isEmpty(r.children)||!r.children)return t.push(r.value);t.push(...y(r.children||[]))}}),t||[])}const Q=["value","onChange","options"];function L(e){const{value:t,onChange:r,options:s}=e,n=I(),[f,i]=d.useState(!1),[h,m]=d.useState(!1),b=d.useMemo(()=>t?S(t,s):[],[s,t]),p=d.useMemo(()=>y(s),[s]),j=c=>{const o=J(c);r==null||r(o)},N=c=>{const o=c.target.checked||!1;if(i(o),o){const B=y(s);r==null||r(B)}else r==null||r([])},P=c=>l.jsxs("div",{style:{position:"relative"},children:[l.jsx("div",{style:{paddingBottom:36,maxHeight:200,overflow:"scroll"},children:c}),l.jsxs("div",{style:{position:"absolute",bottom:0,width:"100%",backgroundColor:n==="light"?"#fff":"rgba(255, 255, 255, 0.12)"},children:[l.jsx(E,{style:{margin:"0px"}}),l.jsx("div",{style:{margin:"6px 0 6px 16px"},children:l.jsx(G,{checked:f,onChange:N,indeterminate:h,children:"全选"})})]})]});return d.useEffect(()=>{if(a.isEmpty(p))m(!1);else{const c=a.isEqual(a.orderBy(t),a.orderBy(p));i(c),!c&&!a.isEmpty(t)?m(!0):m(!1)}},[p,t]),l.jsx(R,{...a.omitBy(e,(c,o)=>Q.includes(o)),options:s,multiple:!0,maxTagCount:"responsive",dropdownRender:P,value:b,onChange:j})}export{_ as C,T as D,z as F,C as I,A as P,H as S,W as T,L as a,V as b,O as c,q as d,U as e,u as f};
